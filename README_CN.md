# Prompt 管理器 - 用户使用指南

一个基于 Vue 3 + Nuxt 3 + SQLite 开发的智能 Prompt 管理工具，专为 AI 创作者和内容创作者设计。

## 📋 目录

- [功能特性](#功能特性)
- [快速开始](#快速开始)
- [主要功能](#主要功能)
- [界面介绍](#界面介绍)
- [使用教程](#使用教程)
- [导入导出](#导入导出)
- [Civitai 集成](#civitai-集成)
- [技术栈](#技术栈)
- [常见问题](#常见问题)

## ✨ 功能特性

- 🎯 **智能分类管理** - 支持手动创建和 Civitai 获取的 Prompt 分类管理
- 🔍 **强大搜索功能** - 支持标题、内容、标签的全文搜索
- 🏷️ **智能标签系统** - 自动推荐标签，支持标签筛选和统计
- ⭐ **收藏功能** - 快速收藏重要的 Prompt
- 🖼️ **图片支持** - 支持上传和管理 Prompt 相关图片
- 📤 **导入导出** - 支持 JSON、Markdown、ZIP 多种格式的数据导入导出
- 🌐 **Civitai 集成** - 直接从 Civitai 获取模型信息和 Prompt
- 📱 **响应式设计** - 完美适配桌面和移动设备
- 🎨 **现代化界面** - 基于 Naive UI 的美观界面设计

## 🚀 快速开始

### 环境要求

- Node.js 18+ 
- npm 或 yarn 包管理器

### 安装步骤

1. **安装依赖**
   ```bash
   npm install
   ```

2. **初始化数据库**
   ```bash
   npm run dev
   ```
   首次运行会自动创建 SQLite 数据库并执行迁移。

3. **启动应用**
   ```bash
   npm run dev
   ```
   应用将在 `http://localhost:3000` 启动。

## 🎯 主要功能

### 1. Prompt 管理
- **创建 Prompt**: 支持标题、内容、图片、标签的完整信息录入
- **编辑 Prompt**: 随时修改已有的 Prompt 信息
- **删除 Prompt**: 安全删除不需要的 Prompt
- **收藏功能**: 标记重要的 Prompt 便于快速访问

### 2. 分类管理
- **手动创建**: 用户手动创建的 Prompt
- **Civitai 获取**: 从 Civitai 平台获取的 Prompt

### 3. 搜索与筛选
- **全文搜索**: 在标题、内容、标签中搜索关键词
- **标签筛选**: 按标签筛选 Prompt
- **收藏筛选**: 只显示收藏的 Prompt
- **排序功能**: 按创建时间正序或倒序排列

## 🖥️ 界面介绍

### 主界面

主界面分为以下几个区域：

1. **顶部导航**
   - 应用标题和统计信息
   - 标签页切换（手动创建 / Civitai 获取）

2. **工具栏**
   - 排序按钮：切换时间排序方式
   - 收藏筛选：显示/隐藏收藏的 Prompt
   - 标签筛选：按标签筛选内容
   - Civitai LORA：打开 Civitai 集成工具
   - 导入/导出：数据管理功能

3. **搜索栏**
   - 实时搜索输入框
   - 新建 Prompt 按钮

4. **内容区域**
   - Prompt 卡片网格布局
   - 每个卡片显示标题、内容预览、标签、时间等信息

### Prompt 卡片

每个 Prompt 卡片包含：
- **收藏按钮**: 右上角星形按钮，点击收藏/取消收藏
- **图片**: 如果有关联图片会显示在顶部
- **标题**: Prompt 的标题
- **内容预览**: 内容的前几行预览
- **标签**: 相关标签列表
- **时间信息**: 创建和更新时间
- **操作按钮**: 查看、编辑、删除功能

## 📖 使用教程

### 创建新 Prompt

1. 点击主界面右上角的 **"新建 Prompt"** 按钮
2. 填写以下信息：
   - **标题**: 给 Prompt 起一个描述性的名称
   - **内容**: 输入完整的 Prompt 文本
   - **图片**: 可选，上传相关图片（支持拖拽、粘贴、文件选择）
   - **标签**: 添加分类标签，系统会推荐常用标签
3. 点击 **"创建 Prompt"** 完成创建

### 编辑 Prompt

1. 在 Prompt 卡片上点击 **"编辑"** 按钮
2. 修改需要更新的信息
3. 点击 **"保存更改"** 完成编辑

### 搜索 Prompt

1. 在搜索栏输入关键词
2. 系统会实时搜索标题、内容、标签中包含关键词的 Prompt
3. 搜索结果会立即显示在下方

### 使用标签筛选

1. 点击工具栏中的 **"标签筛选"** 按钮
2. 在弹出的标签面板中选择要筛选的标签
3. 可以选择多个标签进行组合筛选
4. 点击标签面板外的区域关闭筛选面板

### 收藏管理

1. **收藏 Prompt**: 点击 Prompt 卡片右上角的星形按钮
2. **查看收藏**: 点击工具栏的 **"筛选收藏"** 按钮只显示收藏的内容
3. **取消收藏**: 再次点击星形按钮取消收藏

## 📁 导入导出

### 导出功能

1. 点击工具栏的 **"导出"** 按钮
2. 选择导出格式：
   - **JSON 格式**: 结构化数据，便于程序处理和再次导入
   - **Markdown 格式**: 文档格式，便于阅读和分享（仅文本）
   - **Markdown ZIP 格式**: 包含 Markdown 文档和相关图片的压缩包
3. 点击 **"确认导出"** 下载文件

### 导入功能

1. 点击工具栏的 **"导入"** 按钮
2. 选择要导入的文件（支持 .json、.md、.markdown、.zip 格式）
3. 系统会自动解析文件并导入数据
4. 导入完成后会显示导入统计信息

#### 支持的导入格式

- **JSON 文件**: 标准的 JSON 格式数据
- **Markdown 文件**: 按特定格式编写的 Markdown 文档
- **ZIP 压缩包**: 包含 Markdown 文件和图片的压缩包

## 🌐 Civitai 集成

### 使用 Civitai LORA 工具

1. 点击工具栏的 **"Civitai LORA"** 按钮打开浮窗
2. 在输入框中粘贴 Civitai 模型页面链接
   - 例如：`https://civitai.com/models/12345`
3. 点击 **"获取信息"** 按钮
4. 系统会自动获取模型信息，包括：
   - 模型名称和描述
   - 示例图片
   - 推荐 Prompt
   - 相关标签
5. 选择要保存的 Prompt 并点击保存

### Civitai 数据特点

- 从 Civitai 获取的 Prompt 会自动添加 "civitai" 标签
- 在主界面的 "Civitai 获取" 标签页中单独显示
- 包含模型相关的元数据信息

## 🛠️ 技术栈

- **前端框架**: Vue 3 + Nuxt 3
- **UI 组件库**: Naive UI
- **样式框架**: Tailwind CSS
- **数据库**: SQLite + Prisma ORM
- **图片处理**: Sharp + Nuxt Image
- **文件处理**: Formidable + JSZip
- **搜索功能**: Fuse.js

## ❓ 常见问题

### Q: 如何备份我的数据？
A: 使用导出功能，选择 JSON 格式可以完整备份所有数据，包括图片路径信息。

### Q: 导入数据时出现重复怎么办？
A: 系统会自动检测重复的 Prompt（基于标题和内容），重复的项目会被跳过，不会创建副本。

### Q: 图片上传失败怎么办？
A: 请检查：
- 图片格式是否支持（JPG、PNG、GIF、WebP）
- 图片大小是否超过限制
- 网络连接是否正常

### Q: Civitai 链接无法获取信息？
A: 请确认：
- 链接格式正确（https://civitai.com/models/数字ID）
- 网络连接正常
- 模型页面是公开可访问的

### Q: 如何清理不需要的标签？
A: 删除使用该标签的所有 Prompt 后，标签会自动从推荐列表中消失。

### Q: 数据存储在哪里？
A: 数据存储在项目目录下的 SQLite 数据库文件中，图片存储在 `public/uploads` 目录。

### Q: 如何重置应用？
A: 删除数据库文件和 uploads 目录，重新运行 `npm run dev` 即可重置。

## 🔧 高级功能

### 批量操作
- 使用导出功能可以批量备份所有 Prompt
- 使用导入功能可以批量添加 Prompt

### 数据迁移
- 支持从其他 Prompt 管理工具导入数据（需要转换为支持的格式）
- 支持跨设备数据同步（通过导出/导入）

### 自定义标签
- 标签系统支持中英文和特殊字符
- 系统会根据使用频次推荐标签
- 支持多标签组合筛选

---

**提示**: 如果在使用过程中遇到问题，请检查浏览器控制台的错误信息，或者尝试刷新页面。